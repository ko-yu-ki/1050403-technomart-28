'use strict';try{const a=document.querySelectorAll(".slide"),b=document.querySelectorAll(".arrows-control__button"),c=document.querySelectorAll(".dots-control__button");b.forEach((b,d)=>{b.addEventListener("click",()=>{let b=0,e=a[0];const f=document.querySelector(".dots-control__button--active");for(let c=0;c<a.length;c++)a[c].classList.contains("hide")||(e=a[c],b=c);0===d?(f.classList.toggle("dots-control__button--active"),e.classList.toggle("hide"),b--,0>b&&(b=a.length-1),a[b].classList.toggle("hide"),c[b].classList.toggle("dots-control__button--active")):1==d&&(f.classList.toggle("dots-control__button--active"),e.classList.toggle("hide"),b++,b>a.length-1&&(b=0),a[b].classList.toggle("hide"),c[b].classList.toggle("dots-control__button--active"))})}),c.forEach((b,d)=>{b.addEventListener("click",()=>{let b=0,e=a[0];const f=document.querySelector(".dots-control__button--active");for(let c=0;c<a.length;c++)a[c].classList.contains("hide")||(e=a[c],b=c);b!==d&&(f.classList.toggle("dots-control__button--active"),e.classList.toggle("hide"),a[d].classList.toggle("hide"),c[d].classList.toggle("dots-control__button--active"))})})}catch(a){}try{const a=document.querySelectorAll(".services-slider__button"),b=document.querySelectorAll(".services-slider__slide");let c=-1;a.forEach((d,e)=>{d.addEventListener("click",()=>{const f=document.querySelector(".services-slider__active");for(let b=0;b<a.length;b++)a[b].classList.contains("services-slider__active")&&(c=b);d.classList.contains("services-slider__active")||(d.classList.add("services-slider__active"),f.classList.remove("services-slider__active"),b[c].classList.toggle("hide"),b[e].classList.toggle("hide"))})})}catch(a){}const escPressed=function(a,b,c,d,e){if(27===a.keyCode&&!b.classList.contains("hide")){a.preventDefault();try{localStorage.setItem("name",c.value),localStorage.setItem("email",d.value),localStorage.setItem("message",e.value),c.classList.contains("modal-error")&&c.classList.remove("modal-error"),d.classList.contains("modal-error")&&d.classList.remove("modal-error"),e.classList.contains("modal-error")&&e.classList.remove("modal-error")}catch{}b.classList.toggle("hide"),b.classList.remove("modal-appear")}};try{const a=document.querySelector(".contacts__link"),b=document.querySelector(".map-modal"),c=b.querySelector(".map-modal__close");a.addEventListener("click",a=>{a.preventDefault(),b.classList.add("modal-appear"),b.classList.contains("hide")&&b.classList.toggle("hide");b.focus(),c.addEventListener("click",a=>{a.preventDefault(),b.classList.contains("hide")||b.classList.toggle("hide")}),window.addEventListener("keydown",a=>{escPressed(a,b)})})}catch(a){}try{const a=document.querySelectorAll(".card__tocart-button"),b=document.querySelector(".to-cart-modal"),c=b.querySelector(".to-cart-modal__close"),d=b.querySelector(".to-cart-modal__back-to-catalog"),e=b.querySelector(".to-cart-modal__footer-checkout"),f=document.querySelector(".cart"),g=document.querySelector(".cart__text");a.forEach(a=>{a.addEventListener("click",a=>{if(a.preventDefault(),b.classList.add("modal-appear"),!f.classList.contains("not-empty")){f.classList.add("not-empty");let a=g.textContent.slice(g.textContent.indexOf(" "));a++,document.querySelector(".cart__text").textContent=`Корзина: ${a}`}else{let a=g.textContent.slice(g.textContent.indexOf(" "));a++,document.querySelector(".cart__text").textContent=`Корзина: ${a}`}b.classList.contains("hide")&&b.classList.toggle("hide"),b.focus(),c.addEventListener("click",a=>{a.preventDefault(),b.classList.contains("hide")||b.classList.toggle("hide")}),d.addEventListener("click",a=>{a.preventDefault(),b.classList.contains("hide")||b.classList.toggle("hide")}),e.addEventListener("click",a=>{a.preventDefault(),b.classList.contains("hide")||b.classList.toggle("hide")}),window.addEventListener("keydown",a=>{escPressed(a,b)})})})}catch(a){}try{const a=document.querySelector(".contacts__mail-us-button"),b=document.querySelector(".write-us-modal"),c=b.querySelector(".write-us-modal__close"),d=b.querySelectorAll(".write-us-modal__input"),e=b.querySelector(".write-us-modal__form"),f=b.querySelector(".write-us-modal__textarea");let g=!0;a.addEventListener("click",a=>{a.preventDefault(),b.classList.add("modal-appear"),b.classList.contains("hide")&&b.classList.toggle("hide");try{localStorage.getItem("name")}catch{g=!1}g?localStorage.getItem("name")||localStorage.getItem("email")||!1?(d[0].value=localStorage.getItem("name"),d[1].value=localStorage.getItem("email"),(localStorage.getItem("message")||!1)&&(f.value=localStorage.getItem("message"),f.focus())):d[0].focus():d[0].focus(),c.addEventListener("click",a=>{a.preventDefault(),b.classList.contains("hide")||(g&&(localStorage.setItem("name",d[0].value),localStorage.setItem("email",d[1].value),localStorage.setItem("message",f.value)),b.classList.remove("modal-appear"),d[0].classList.contains("modal-error")&&d[0].classList.remove("modal-error"),d[1].classList.contains("modal-error")&&d[1].classList.remove("modal-error"),f.classList.contains("modal-error")&&f.classList.remove("modal-error"),b.classList.toggle("hide"))}),e.addEventListener("submit",a=>{a.preventDefault(),b.classList.remove("modal-appear"),d[0].classList.remove("modal-error"),d[1].classList.remove("modal-error"),f.classList.remove("modal-error"),b.clientWidth,d[0].value&&d[1].value&&f.value?(g&&(localStorage.setItem("name",d[0].value),localStorage.setItem("email",d[1].value)),f.value="",d[0].value="",d[1].value="",b.classList.toggle("hide"),d[0].classList.contains("modal-error")&&d[0].classList.remove("modal-error"),d[1].classList.contains("modal-error")&&d[1].classList.remove("modal-error"),f.classList.contains("modal-error")&&f.classList.remove("modal-error")):(!d[0].value&&d[0].classList.add("modal-error"),!d[1].value&&d[1].classList.add("modal-error"),!f.value&&f.classList.add("modal-error"))}),window.addEventListener("keydown",a=>{escPressed(a,b,d[0],d[1],f)})})}catch(a){}